(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{30:function(t,e,n){"use strict";var a=n(1);e.a=function(t){var e=t.text,n=t.onClick,i=t.disabled;return Object(a.jsx)("button",{style:{color:"black",backgroundColor:"#FFFFFF",padding:"10px",outline:0,borderRadius:"50px",border:"none",cursor:"pointer",margin:10},onClick:n,disabled:i,children:e})}},44:function(t,e,n){"use strict";(function(t,a){var i=n(9),c=n(22),s=n.n(c),r=n(29),o=n(5),l=(n(69),n(0)),u=n.n(l),d=n(16),p=n.n(d),h=n(45),j=n.n(h),b=n(99),y=n(100),f=n(13),m=n(46),x=n(47),O=n(48),g=n(49),v=n(50),C=n(54),S=n(30),k=n(1),P=t.from("".concat("34b31bfe4c604047a634247b71097587",":").concat("ec17b732457148a8b0e95f230f5bf56b")).toString("base64"),w="location"in a&&"localhost:3000"===a.location.host?"http://localhost:3000":"https://esinarta.github.io/APlaylistPlease",F="https://accounts.spotify.com/authorize";F+="?response_type=token",F+="&client_id="+encodeURIComponent("34b31bfe4c604047a634247b71097587"),F+="&scope="+encodeURIComponent("playlist-modify-private playlist-modify-public"),F+="&redirect_uri="+encodeURIComponent(w);e.a=function(){var t=u.a.useState(""),e=Object(o.a)(t,2),n=e[0],a=e[1],c=u.a.useState(""),l=Object(o.a)(c,2),d=l[0],h=l[1],w=u.a.useState("artist"),A=Object(o.a)(w,2),R=A[0],I=A[1],T=u.a.useState([]),B=Object(o.a)(T,2),_=B[0],N=B[1],D=u.a.useState({}),z=Object(o.a)(D,2),M=z[0],E=z[1],L=u.a.useState([]),Q=Object(o.a)(L,2),J=Q[0],U=Q[1],q=u.a.useState(""),G=Object(o.a)(q,2),H=G[0],W=G[1],K=u.a.useState(""),V=Object(o.a)(K,2),X=V[0],Y=V[1],Z=u.a.useState(""),$=Object(o.a)(Z,2),tt=$[0],et=$[1],nt=u.a.useState(""),at=Object(o.a)(nt,2),it=at[0],ct=at[1],st=u.a.useState(!0),rt=Object(o.a)(st,2),ot=rt[0],lt=rt[1],ut=u.a.useState(!1),dt=Object(o.a)(ut,2),pt=dt[0],ht=dt[1],jt=u.a.useState(!1),bt=Object(o.a)(jt,2),yt=bt[0],ft=bt[1],mt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:Object(f.useMediaQuery)({orientation:"portrait"})?"90%":"50%",padding:"2%",bgcolor:"#444",borderRadius:"25px",boxShadow:12,textAlign:"center"},xt=function(){var t=Object(r.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p()({method:"post",url:"https://accounts.spotify.com/api/token",headers:{Authorization:"Basic ".concat(P),"Content-Type":"application/x-www-form-urlencoded"},data:j.a.stringify({grant_type:"client_credentials"})});case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();u.a.useEffect((function(){""===n&&xt().then((function(t){a(t.access_token)}))}),[n]);var Ot=function(t){p()({method:"get",url:"".concat("https://api.spotify.com/v1/recommendations?seed_").concat(R,"s=").concat(t),headers:{Accept:"application/json",Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}}).then((function(t){U(Object(i.a)(t.data.tracks))}))},gt=function(){for(var t={},e=/([^&;=]+)=?([^&;]*)/g,n=window.location.hash.substring(1),a=e;null!==(a=e.exec(n));)t[a[1]]=decodeURIComponent(a[2]);return t}();u.a.useEffect((function(){""===H&&W(gt.access_token)}),[H,gt.access_token]);var vt=u.a.useCallback(Object(r.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p()({method:"get",url:"".concat("https://api.spotify.com/v1/me"),headers:{Accept:"application/json",Authorization:"Bearer ".concat(H),"Content-Type":"application/json"}});case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)}))),[H]);u.a.useEffect((function(){""===X&&H&&vt().then((function(t){Y(t.id)}))}),[X,vt,H]);var Ct=function(t,e){p()({method:"post",url:"".concat("https://api.spotify.com/v1/playlists/").concat(t,"/tracks"),headers:{Accept:"application/json",Authorization:"Bearer ".concat(H),"Content-Type":"application/json"},data:JSON.stringify(e)}).then((function(t){console.log(t),ft(!0)}))};return Object(k.jsxs)("div",{className:"App",children:[Object(k.jsx)(C.a,{link:F}),Object(k.jsx)("h1",{children:"A Playlist, Please."}),Object(k.jsx)("p",{children:"Search for an artist or song to create a playlist of recommended tracks."}),Object(k.jsx)(m.a,{onSearch:function(t){h(t.target.value),d&&p()({method:"get",url:"".concat("https://api.spotify.com/v1/search?q=").concat(d,"&type=").concat(R),headers:{Accept:"application/json",Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}}).then((function(t){t.data.artists?N(Object(i.a)(t.data.artists.items)):N(Object(i.a)(t.data.tracks.items))}))}}),Object(k.jsx)(x.a,{searchFilter:R,setSearchFilter:I}),d&&_?Object(k.jsx)(O.a,{searchResults:_,handleSearchSelection:function(t){h(""),Ot(t.id)},searchSelection:M,setSearchSelection:E}):null,Object(k.jsx)(g.a,{playlist:J,searchSelection:M}),Object(k.jsx)("br",{}),J.length&&H?Object(k.jsxs)("div",{children:[Object(k.jsx)(S.a,{text:"Save Playlist",onClick:function(){return ht(!0)}}),Object(k.jsx)(b.a,{open:pt,onClose:function(){ht(!1),ft(!1)},children:Object(k.jsx)(y.a,{sx:mt,children:yt?Object(k.jsx)("div",{children:"Playlist saved successfully."}):Object(k.jsxs)("div",{children:[Object(k.jsx)(v.a,{playListName:tt,playlistDesc:it,playlistPublic:ot,setPlaylistPublic:lt,handlePlaylistNameInput:function(t){et(t.target.value)},handlePlaylistDescInput:function(t){ct(t.target.value)}}),Object(k.jsx)(S.a,{text:"Save Playlist",onClick:function(){return function(t,e,n){p()({method:"post",url:"".concat("https://api.spotify.com/v1/users/").concat(X,"/playlists"),headers:{Accept:"application/json",Authorization:"Bearer ".concat(H),"Content-Type":"application/json"},data:JSON.stringify({name:t,description:e,public:n})}).then((function(t){var e=t.data.id,n=[];J.forEach((function(t){n.push(t.uri)})),Ct(e,{uris:n})}))}(tt,it,ot)}})]})})})]}):null]})}}).call(this,n(64).Buffer,n(33))},46:function(t,e,n){"use strict";var a=n(13),i=n(1);e.a=function(t){var e=t.search,n=t.onSearch,c={border:"none",borderColor:"transparent",borderRadius:"50px",outline:"none",height:"2em",width:Object(a.useMediaQuery)({orientation:"portrait"})?"80%":"50%",padding:"0.2em 1.5em 0.2em 1.5em"};return Object(i.jsx)("div",{children:Object(i.jsx)("input",{style:c,id:"search",type:"text",value:e,onChange:n})})}},47:function(t,e,n){"use strict";var a=n(1);e.a=function(t){var e=t.searchFilter,n=t.setSearchFilter,i={padding:"1rem"};return Object(a.jsxs)("div",{style:i,children:[Object(a.jsxs)("label",{style:i,children:["Artist",Object(a.jsx)("input",{type:"radio",name:"searchType",value:"artist",checked:"artist"===e,onChange:function(t){return n(t.target.value)}})]}),Object(a.jsxs)("label",{style:i,children:["Song",Object(a.jsx)("input",{type:"radio",name:"searchType",value:"track",checked:"track"===e,onChange:function(t){return n(t.target.value)}})]})]})}},48:function(t,e,n){"use strict";n(91);var a=n(13),i=n(1);e.a=function(t){var e=t.searchResults,n=t.handleSearchSelection,c=(t.searchSelection,t.setSearchSelection),s={width:Object(a.useMediaQuery)({orientation:"portrait"})?"80%":"40%",backgroundColor:"white",color:"black",margin:"0 auto",borderRadius:"20px",overflow:"hidden"},r={listStyleType:"none",textAlign:"left",borderBottom:"1px solid #CCCCCC",padding:"1em"};return Object(i.jsx)("div",{style:s,children:e.length?Object(i.jsx)("div",{children:e.slice(0,5).map((function(t){return Object(i.jsx)("li",{className:"resultItem",style:r,onClick:function(){n(t),c(t)},children:"artist"===t.type?Object(i.jsx)("p",{children:t.name}):Object(i.jsxs)("p",{children:[t.name," - ",t.artists[0].name]})},t.id)}))}):null})}},49:function(t,e,n){"use strict";var a=n(13),i=n(1);e.a=function(t){var e=t.playlist,n=t.searchSelection,c={width:Object(a.useMediaQuery)({orientation:"portrait"})?"80%":"40%",backgroundColor:"white",color:"black",margin:"0 auto",borderRadius:"20px",overflow:"hidden"},s={listStyleType:"none",textAlign:"left",borderBottom:"1px solid #CCCCCC",padding:"1em"};return Object(i.jsxs)("div",{children:[e.length?Object(i.jsxs)("div",{children:[Object(i.jsx)("h4",{children:"Here's a playlist based on: "}),"artist"===n.type?Object(i.jsxs)("div",{children:[n.images[2]?Object(i.jsx)("img",{src:n.images[2].url,alt:"Artist profile"}):null,Object(i.jsx)("p",{children:n.name})]}):Object(i.jsxs)("div",{children:[n.album.images[2]?Object(i.jsx)("img",{src:n.album.images[2].url,alt:"Song artwork"}):null,Object(i.jsxs)("p",{children:[n.name," - ",n.artists[0].name]})]}),Object(i.jsx)("div",{style:c,children:e.map((function(t){return Object(i.jsxs)("li",{style:s,children:[t.name," - ",t.artists[0].name]},t.id)}))})]}):null,!e.length&&n.type?Object(i.jsxs)("div",{style:{marginTop:"5%"},children:["Sorry, there are no recommendations for this ",n.type,"."]}):null]})}},50:function(t,e,n){"use strict";var a=n(13),i=n(1);e.a=function(t){var e={padding:"0.5em",display:"block"},n={border:"none",borderRadius:"50px",outline:"none",padding:"0.8em",width:Object(a.useMediaQuery)({orientation:"portrait"})?"80%":"50%"};return Object(i.jsxs)("div",{style:{width:"100%",margin:"0 auto"},children:[Object(i.jsxs)("div",{style:e,children:[Object(i.jsx)("label",{style:e,htmlFor:"search",children:"Playlist Name: "}),Object(i.jsx)("input",{style:n,id:"playlistName",type:"text",value:t.playListName,onChange:t.handlePlaylistNameInput})]}),Object(i.jsxs)("div",{style:e,children:[Object(i.jsx)("label",{style:e,htmlFor:"search",children:"Playlist Description: "}),Object(i.jsx)("input",{style:n,id:"playlistDesc",type:"text",value:t.playlistDesc,onChange:t.handlePlaylistDescInput})]}),Object(i.jsxs)("div",{style:{padding:"1em"},children:[Object(i.jsxs)("label",{children:["Public",Object(i.jsx)("input",{type:"radio",name:"playlistPublic",value:"public",checked:t.playlistPublic,onChange:function(e){return t.setPlaylistPublic(e.target.value)}})]}),Object(i.jsxs)("label",{style:{padding:"0 0 0 1em"},children:["Private",Object(i.jsx)("input",{type:"radio",name:"playlistPublic",value:"private",checked:!t.playlistPublic,onChange:function(e){return t.setPlaylistPublic(!e.target.value)}})]})]})]})}},54:function(t,e,n){"use strict";var a=n.p+"static/media/Spotify_Icon_RGB_White.ecd54051.png",i=n(1);e.a=function(t){var e=t.link;return Object(i.jsxs)("div",{style:{backgroundColor:"#26D863",padding:"10px",outline:0,borderRadius:"50px",border:"none",cursor:"pointer",display:"flex",marginLeft:"auto",width:"11em",justifyContent:"center"},children:[Object(i.jsx)("img",{src:a,alt:"Spotify Icon",style:{height:"21px",width:"21px",paddingRight:"0.5em"}}),Object(i.jsx)("a",{style:{color:"#FFFFFF",textDecoration:"none"},href:e,children:"Connect to Spotify"})]})}},69:function(t,e,n){},91:function(t,e,n){},97:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),c=n(15),s=n.n(c),r=n(44),o=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,117)).then((function(e){var n=e.getCLS,a=e.getFID,i=e.getFCP,c=e.getLCP,s=e.getTTFB;n(t),a(t),i(t),c(t),s(t)}))},l=n(1);s.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(r.a,{})}),document.getElementById("root")),o()}},[[97,1,2]]]);
//# sourceMappingURL=main.18962373.chunk.js.map